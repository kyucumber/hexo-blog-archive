<!DOCTYPE html><html lang="kr"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Devlog</title><link rel="stylesheet" href="/libs/spoqa-han-sans-kr/css/SpoqaHanSans-kr.css"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="http://yoursite.com/wait/pivotal-cloud.html"/>
<meta name="description" content="≈ßß cloud native service를 도와주는 도구들 Agenda DevOps와 MSA MSA 기반이 많아짐 API contract 개선이 더 잦아짐(Agile) Global의 경우 다른 시간대 팀간 협업 요구 Cloud…">
<meta property="og:type" content="website">
<meta property="og:title" content="Devlog">
<meta property="og:url" content="http://yoursite.com/wait/pivotal-cloud.html">
<meta property="og:site_name" content="Devlog">
<meta property="og:description" content="≈ßß cloud native service를 도와주는 도구들 Agenda DevOps와 MSA MSA 기반이 많아짐 API contract 개선이 더 잦아짐(Agile) Global의 경우 다른 시간대 팀간 협업 요구 Cloud…">
<meta property="og:locale" content="kr">
<meta property="og:image" content="http://yoursite.com/images/algorithm.png">
<meta property="og:updated_time" content="2018-05-13T14:46:26.201Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Devlog">
<meta name="twitter:description" content="≈ßß cloud native service를 도와주는 도구들 Agenda DevOps와 MSA MSA 기반이 많아짐 API contract 개선이 더 잦아짐(Agile) Global의 경우 다른 시간대 팀간 협업 요구 Cloud…">
<meta name="twitter:image" content="http://yoursite.com/images/algorithm.png"><link rel="icon" href="/images/internet.png"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="Devlog"></head><body itemscope itemtype="https://schema.org/WebPage"><nav class="menu" id="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a class="menu__item__link menu__item__link--brand" href="/" title="Home" rel="home"><img class="menu__item__link--brand__image" src="/images/internet.png" alt="Devlog"><span class="menu__item__link--brand__label">Devlog</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a class="menu__item__link" href="/">Home</a></div><div class="menu__item"><a class="menu__item__link" href="/about">About</a></div><div class="menu__item"><a class="menu__item__link" href="/archives">Archives</a></div></div></div></nav><div class="page-background"></div><div class="content-container"><div class="content-outer"><div class="content-inner" itemscope itemtype="https://schema.org/Blog"><article class="article" id="article" itemscope itemtype="https://schema.org/BlogPosting"><h1 class="article__title" itemprop="headline">Untitled</h1><div class="article__meta"><time class="article__meta__time" datetime="2018-05-13T14:46:26.202Z" itemprop="datePublished">2018-05-13 23:46:26</time></div><hr><div class="article__contents"><p>≈ßß</p>
<p>cloud native service를 도와주는 도구들</p>
<p>Agenda</p>
<p>DevOps와 MSA</p>
<p>MSA 기반이 많아짐</p>
<p>API contract 개선이 더 잦아짐(Agile)</p>
<p>Global의 경우 다른 시간대 팀간 협업 요구</p>
<p>Cloud Foundry</p>
<p>Spring Cloud</p>
<p>클라우드의 모니터링은 Spring Boot Admin에서 관리 가능</p>
<p>Microservice Dashboard</p>
<p>Vizceral - 넷플릭스에서 쓰는 중 글로벌하게 관리</p>
<p>Trouble shooting ZIPKIN</p>
<p>Trouble Maker Outofmemory 등 직접 만들어서.. 테스팅용?같음</p>
<p>Spring 기반 앱 모니터링 관리 헬스 상태, </p>
<p>Spring Boot Actuator 2.x</p>
<ul>
<li>Spring MVC</li>
<li>Spring WebFlux</li>
<li>Jersey</li>
</ul>
<p>heapdump thread dump</p>
<p>Shutdown configuration reload 등등 </p>
<p>Prometheus 플러그인을 추가하면 좋대</p>
<p>Jolokia </p>
<p>Acuator</p>
<p><a href="http://IP:port/actuator/health" target="_blank" rel="noopener">http://IP:port/actuator/health</a> 로 들어가면</p>
<p>{</p>
<p>​    “Status”: up</p>
<p>}</p>
<p>더 많은 정보를 보려면.</p>
<p>management.endpoint.helath.show-details=when_authorized</p>
<p>Config SErver for PCF</p>
<p>중앙 집중형 config 관리</p>
<p>cofiguration과 바이너리 분리</p>
<p>SErvice registry for pcf</p>
<p>너무 많은 마이크로서비스들이 있기 때문에 등록하고 관리되게 된다. 아이피, 도메인 기반</p>
<p>circuit breaker dashboard for pcf</p>
<p>장애가 번지는것을 방지하는 서킷브레이커</p>
<p>Config Server</p>
<p>분산 환경에서 사용 시</p>
<p>각각 MSA에서 사용하는 config가 뭔지가 제일 문제.</p>
<p>application.yml</p>
<ul>
<li>hello-server-dev.yml</li>
<li>Hello-server-stage.yml</li>
<li>heelo-server-prod.yml</li>
</ul>
<p>hello server-dev</p>
<p>이름과 환경에 따라 다른 설정을 가지도록 해줌</p>
<h3 id="Curcuit-breaker"><a href="#Curcuit-breaker" class="headerlink" title="Curcuit breaker"></a>Curcuit breaker</h3><p>장애 시 fallback을 두고 비어있는 목록을 전달하거나..이런 기능들을 통해서 장애 확산 방지</p>
<p>cuircuit Breaker 메트릭을 통합해주는 turbine</p>
<p>한 msa마다 하나의 스트림이 나오는데 그걸 한곳에서 보고 관리를 하기 위해서 turbine이 묶어줌</p>
<h2 id="Zipkin"><a href="#Zipkin" class="headerlink" title="Zipkin"></a>Zipkin</h2><p>분산 추적용 </p>
<p>마이크로서비스 호출 관계는 스냅샷으로 뜰수 있다.</p>
<p>키를 발급, 계속 관리 a가 트레이스 id 발급 -&gt; b  트레이스아이디 유지하면서 span id 생성, 연계 그 데이터를 종합해서 대시보드 생성</p>
<p>실제로 동작하는 service의 토폴로지(디펜던시 관계)를 그려주고 더 많은 트래픽에 대해서 굵은선으로 …</p>
<h2 id="넷플릭스-오픈소스-Vizceral"><a href="#넷플릭스-오픈소스-Vizceral" class="headerlink" title="넷플릭스 오픈소스 Vizceral"></a>넷플릭스 오픈소스 Vizceral</h2><p>아마존 기전 리전별도 관리하고 리전 내부 트래픽도 관리</p>
<h2 id="Discovery"><a href="#Discovery" class="headerlink" title="Discovery"></a>Discovery</h2><p>전화번호 목록처럼 서비스 레지스트리 관리</p>
<p>Zookeeper랑 비슷..?</p>
<h2 id="Config-server"><a href="#Config-server" class="headerlink" title="Config server"></a>Config server</h2><p>마이크로서비스들의 config 공유</p>
<h2 id="Spring-Boot-Admin"><a href="#Spring-Boot-Admin" class="headerlink" title="Spring Boot Admin"></a>Spring Boot Admin</h2><p>spring boot admin 모니터링 하나에서 다 볼수있음 마이크로서비스 전체 대시보드를 볼 수 있다.</p>
<p>hystrix zipkin 등등은 하나하나만..보여줌</p>
<p>acuator를 이용해 정보 가져옴</p>
<p>2.x 버전 지원안함 구림</p>
<h2 id="Prometheus"><a href="#Prometheus" class="headerlink" title="Prometheus"></a>Prometheus</h2><p>SoundCloud 개발 오픈소스화</p>
<p>설정 설치가 쉽대 쿼리도 쉽대 분산 시스템을 위한 모니터링 Scaleable and decentralized</p>
<p>프로메테우스는 pulling을 함</p>
<p>Alerting 기능도 제공</p>
<p>Cloud Foundry에서 Prometheus 자동 설치 및 Cloud Foundry 플랫폼 모니터링 자동화</p>
<p>도커에서 로그를 찍는다.</p>
<p>이름은 아이피가 달라져도 유지되므로 모니터링 결과가 유지됨</p>
<h2 id="로그를-모아서-분석"><a href="#로그를-모아서-분석" class="headerlink" title="로그를 모아서 분석"></a>로그를 모아서 분석</h2><p>LogStash, ElasticSearch, Kibana</p>
<p>msa에서 elk logstash로 쏴야됨 sys log plugin으로 elk에 쏘자.</p>
<p>logstash-logback-encoder</p>
<p>resource안에 logback 설정 appender 지정 syslog</p>
<p>sysloghost에 어디로 쏠지 지정</p>
<p>suffixPattern 지정</p>
<p>그리고 root로그에 appender에 syslog 지정</p>
<h2 id="장애-주입-Trouble-maker"><a href="#장애-주입-Trouble-maker" class="headerlink" title="장애 주입 Trouble maker"></a>장애 주입 Trouble maker</h2><p>netflix chaos monkey ec2 api 용</p>
<p>cloud 독립</p>
<p>Ohs-trouble-maker</p>
<p>eureka에서 서비스 가지고 와서 </p>
<p>@EnableTroubleMaker만 추가하면됨</p>
<h2 id="Saboteur"><a href="#Saboteur" class="headerlink" title="Saboteur"></a>Saboteur</h2><p>네트워크 장애 주입 msa 테스팅용</p>
<p>Vagrant 네트워크 분산인 경우 크리티컬..</p>
<h2 id="PCF-Pivotal-cloud-foundry"><a href="#PCF-Pivotal-cloud-foundry" class="headerlink" title="PCF(Pivotal cloud foundry)"></a>PCF(Pivotal cloud foundry)</h2><p>위에거 다 제공함 zipkin 이런거</p>
</div><div class="article__author" itemscope itemprop="author" itemtype="https://schema.org/Person"><img class="article__author__image" src="/images/profile.png" alt="KyuNam"><a class="article__author__link" title="About KyuNam" rel="author">KyuNam</a><p class="article__author__desc">dev log</p><div class="article__author__socials"><a class="article__author__socials__item" href="https://github.com/tramyu" title="github" target="_blank"><i class="fa fa-github"></i></a><a class="article__author__socials__item" href="https://www.facebook.com/xmfpes" title="facebook" target="_blank"><i class="fa fa-facebook"></i></a><a class="article__author__socials__item" href="https://www.linkedin.com/feed/" title="linkedin" target="_blank"><i class="fa fa-linkedin"></i></a><a class="article__author__socials__item" href="https://www.instagram.com/" title="instagram" target="_blank"><i class="fa fa-instagram"></i></a><a class="article__author__socials__item" href="/atom.xml" title="rss" target="_blank"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="KyuNam"></div><div class="sharer" id="sharer"><div class="sharer-inner"><div class="sharer__right"><button class="sharer__item" id="sharer-facebook"><i class="fa fa-facebook-official"></i></button><button class="sharer__item" id="sharer-twitter"><i class="fa fa-twitter"></i></button><button class="sharer__item" id="sharer-pinterest"><i class="fa fa-pinterest"></i></button><button class="sharer__item" id="sharer-pocket"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><div id="disqus_thread"></div><script>(function() {
  var d = document, s = d.createElement('script');
  s.src = '//kyunam-disqus-com.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Enable JavaScript to see comments.</noscript><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2018-05-13T14:46:26.201Z"><meta itemprop="articleBody" content="≈ßß
cloud native service를 도와주는 도구들
Agenda
DevOps와 MSA
MSA 기반이 많아짐
API contract 개선이 더 잦아짐(Agile)
Global의 경우 다른 시간대 팀간 협업 요구
Cloud Foundry
Spring Cloud
클라우드의 모니터링은 Spring Boot Admin에서 관리..."><meta itemprop="url" content="http://yoursite.com/wait/pivotal-cloud.html"><meta itemprop="mainEntityOfPage" content="http://yoursite.com/wait/pivotal-cloud.html"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="Devlog"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="http://yoursite.com/images/internet.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="http://yoursite.com/images/algorithm.png"><meta itemprop="url" content="http://yoursite.com/images/algorithm.png"><meta itemprop="width" content="1280"><meta itemprop="height" content="720"></div></article></div></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/etc/aws setting/">AWS EC2 생성 및 RDS 구축하기</a></li><li class="recent-posts__item"><a href="/java/spring/spring-profile/">Spring Profile 설정하기</a></li><li class="recent-posts__item"><a href="/etc/interview/">서버 개발자 면접 질문 정리</a></li><li class="recent-posts__item"><a href="/java/spring/spring-security/">Spring Security의 간략한 구조</a></li><li class="recent-posts__item"><a href="/algorithm/algorithm-20/">Codility 5-2 PassingCars</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Backend/">Backend</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Backend/Java/">Java</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Backend/Java/DesignPattern/">DesignPattern</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Backend/Java/Spring/">Spring</a><span class="category-list-count">5</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/Hexo/">Hexo</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/">CS</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/Algorithm/">Algorithm</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/Datastructure/">Datastructure</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Javascript/">Javascript</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Interview/">Interview</a><span class="category-list-count">2</span></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Tag cloud</h3><div class="tag-cloud"><a href="/tags/AbstractFactory/" style="font-size: 0.94rem;">AbstractFactory</a> <a href="/tags/Algorithm/" style="font-size: 1.5rem;">Algorithm</a> <a href="/tags/Graph/" style="font-size: 0.75rem;">Graph</a> <a href="/tags/Hexo/" style="font-size: 0.75rem;">Hexo</a> <a href="/tags/Interview/" style="font-size: 0.94rem;">Interview</a> <a href="/tags/Java/" style="font-size: 1.31rem;">Java</a> <a href="/tags/Javascript/" style="font-size: 0.94rem;">Javascript</a> <a href="/tags/Spring/" style="font-size: 1.13rem;">Spring</a></div></div></div></div><p class="copyright"><small>© 2018 KyuNam<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><script src="/js/sharer.min.js"></script></body></html>